extends ./includes/layout.pug

block vars
  - var path='Events'

block content
  main
    .events
      - var first = true
      if (!events.length)
        section.event.latest
          h4 Uh Oh
          h1 No upcoming events.
        h1 No upcoming meetups
      each event in events
        if first
          section.event.latest(data-event_id=event.id, data-event_name=event.name, data-event_date=event.time)
            .container
              h4 Next Event
              h1 #{event.name}
            - first = false
          section.event(data-event_id=event.id, data-event_name=event.name, data-event_date=event.time)
            .container
              h1 #{event.name}
              p Waitlist: #{event.waitlist_count}
              p Maybe: #{event.maybe_rsvp_count}
              p Coming: #{event.yes_rsvp_count}
        else
          section.event(data-event_id=event.id, data-event_name=event.name, data-event_date=event.time)
            .container
              h1 #{event.name}
              p Waitlist: #{event.waitlist_count}
              p Maybe: #{event.maybe_rsvp_count}
              p Coming: #{event.yes_rsvp_count}

  include ./includes/footer.pug

block scripts
  script(type='text/javascript', src='/static/js/events.js')
